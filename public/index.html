<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Allstar Agent Hub â€“ Sign In</title>
  <style>
    :root { color-scheme: dark; }
    body { font-family: ui-sans-serif, system-ui, -apple-system; display:flex; align-items:center; justify-content:center; min-height:100vh; background:#0b0f14; color:#e5e7eb; margin:0 }
    .card { width: 380px; background:#0f172a; padding:24px; border-radius:16px; box-shadow: 0 10px 30px rgba(0,0,0,.35); border:1px solid #1f2937 }
    h1 { margin:0 0 10px 0 }
    p { margin:0 0 16px 0; opacity:.8 }
    label { display:block; font-size:12px; opacity:.7; margin:8px 0 4px }
    input { width:100%; padding:12px; border-radius:10px; border:1px solid #374151; background:#0b0f14; color:#e5e7eb }
    button { width:100%; padding:12px; border:0; border-radius:10px; background:#2563eb; color:white; font-weight:600; cursor:pointer; margin-top:12px }
    .err { color:#fca5a5; margin-top:10px; min-height:1.2em }
    .muted { opacity:.7; font-size:12px; margin-top:8px; min-height:1.2em }
  </style>
  <!-- If someone opens the GitHub Pages URL by accident, bounce them to Cloudflare -->
  <script>
  (function () {
    var onCF = location.hostname.endsWith('.pages.dev');
    if (!onCF && location.hostname.endsWith('github.io')) {
      // CHANGE this to your real Cloudflare Pages domain if you have a custom one
      location.href = 'https://' + (location.hostname.split('.')[0]) + '.pages.dev' + location.pathname + location.search + location.hash;
    }
    console.log('[index] page booted on', location.origin);
  })();
  </script>
</head>
<body>
  <div class="card">
    <h1>Allstar Agent Hub</h1>
    <p>Sign in with your scheduling credentials.</p>

    <!-- Native fallback: even if JS fails, this posts to /api/login -->
    <form id="loginForm" action="/api/login" method="post" novalidate>
      <label for="email">Email</label>
      <input id="email" name="email" type="email" placeholder="you@allstarservicesnow.com" autocomplete="username" required />

      <label for="password">Password</label>
      <input id="password" name="password" type="password" placeholder="Password" autocomplete="current-password" required />

      <button id="signI
